{% extends 'base.html' %}
{% block 'body' %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/mobile-detect/1.4.4/mobile-detect.min.js"></script>
<div class= "container" style="margin-top:30px">
    <div class="row">
      <div class="col-sm-4">
        <h2>Invite</h2>
        <hr class="d-sm-none">
      </div>
      <div class="col-sm-8">
      <div>
        <div class= "invite-btn">
          <div>
            <button class="btn btn-primary btn-floating" id = "invite" style="background-color: #0082ca">
                <i class="fab fa fa-plus"></i></button>
                <span><div class="btn" id= "btn-group" hidden>
                  <button type="button" class="btn btn-danger" id = "gmail" data-mdb-toggle="tooltip" data-mdb-placement="bottom" title="Gmail" style="background-color:#dd4b39">
                    <i class="fab fa-google"></i></button>
                    <button class="btn btn-dark" id ="system_mail" data-mdb-toggle="tooltip" data-mdb-placement="bottom" title="Mail">
                      <i class="fas fa-envelope"></i></button>
                    </span>
                </div>
              </div>
            <script>
                var md = new MobileDetect(window.navigator.userAgent);
                var detect = md.mobile();
                console.log(detect);
                var invite = document.getElementById("invite");
                invite.addEventListener('click', function(){
                    if ( detect !== null){
                        console.log("This is mobile");
                        if (navigator.share) {
                            navigator.share({
                              title: 'Welcome at Piblitz.',
                              text: 'testing share method on android and Ios.',
                              url: 'www.piblitz.com',
                            })
                              .then(() => console.log('Successful share'))
                              .catch((error) => console.log('Error sharing', error));
                          }
                    }
                    else{
                      
                      var btn = document.getElementById('btn-group');
                      btn.hidden = false;
                    }  
                });
                var gmail = document.getElementById('gmail');
                gmail.addEventListener('click', function(){
                    console.log("This is gmail");
                    var emailSubject = "Get%20contributions%20on%20ideas,%20blogs%20and%20knowledge-bases%20at%20Piblitz";
                    var emailBody = "test%20mail%20for%20inviting%20your%20friends";
                    var href = "https://mail.google.com/mail?view=cm&tf=0"
                    + (emailSubject ? ("&su=" + emailSubject) : "") 
                    + (emailBody ? ("&body=" + emailBody) : "");
                    window.open(href, "_blank");
                });
                var system_mail = document.getElementById('system_mail');
                system_mail.addEventListener('click', function(){
                    var emailSubject = "Get%20contributions%20on%20ideas,%20blogs%20and%20knowledge-bases%20at%20Piblitz";
                    var emailBody = "test%20mail%20for%20inviting%20your%20friends";
                    var href = "mailto:?"
                    + (emailSubject ? ("&subject=" + emailSubject) : "") 
                    + (emailBody ? ("&body=" + emailBody) : "");
                    window.open(href, "_blank");
                });
            </script>
            
      </div>  
    </div>
  </div>
  </div>

    {% endblock %}